let activeFungalis = {};

module.exports.config = {
  name: "fungali",
  version: "1.0.0",
  permission: 0,
  credits: "RiisHaD SoBuJ",
  description: "Send continuous mojadar Bangla gali",
  prefix: true,  // ржПржЦрж╛ржирзЗ prefix true ржХрж░рж╛ рж╣рж▓рзЛ
  category: "fun",
  usages: "fungali @mention",
  cooldowns: 5,
};

const fungaliList = [
  "рждрзЛрж░ ржорзБржЦрзЗ ржЬрзБрждрж╛ ржорж╛рж░рж┐",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржЗржЯ ржнрж╛ржЩрж┐",
  "рждрзЛрж░ ржХрж╛ржирзЗрж░ ржнрзЗрждрж░рзЗ ржнрзВржд ржбрзБржХрж╛ржЗ",
  "рждрзЛрж░ ржШрж╛рзЬрзЗ рж╕рж┐ржорзЗржирзНржЯ ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржкрзЗржЯрзЗ рж▓рж╛ржерж┐ ржорж╛рж░рж┐",
  "рждрзЛрж░ ржЧрж╛рж▓рзЗ ржЧрж░рзБрж░ ржЧрзЛржмрж░ ржорж╛ржЦрж╛ржЗ",
  "рждрзЛрж░ ржкрж┐ржЫржирзЗ рждрзЗрж▓ ржорж╛ржЦрж╛ржЗ",
  "рждрзЛрж░ рж╕рж╛ржоржирзЗ ржкрж╛ржирзНрждрж╛ржнрж╛ржд ржлрзЗрж▓рж┐",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржЫрж╛рждрж╛ ржЧрзБржБржЬрзЗ ржжрж┐ржЗ",
  "рждрзЛрж░ ржкрж╛рзЯржЦрж╛ржирж╛рзЯ ржЯрж┐ржХржЯрж┐ржХрж┐ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ ржжрж╛ржБрждрзЗ ржкрж╛ржБржарж╛рж░ рж╣рж╛ржбрзНржбрж┐ ржжрж┐ржЗ",
  "рждрзЛрж░ ржирж╛ржХрзЗ ржХрж░рж▓рж╛ ржЧрзБржБржЬрзЗ ржжрж┐ржЗ",
  "рждрзЛрж░ ржарзНржпрж╛ржВрзЯрзЗ ржХрж╛ржБржарж╛рж▓ ржЧрж╛ржЫ рж▓рж╛ржЧрж╛ржЗ",
  "рждрзЛрж░ рж╣рж╛ржд ржЧрж░рзБрж░ рж▓рзЗржЬ ржжрж┐рзЯрзЗ ржмрж╛ржБржзрж┐",
  "рждрзЛрж░ ржШрзБржорзЗ ржврзЛрж▓ ржмрж╛ржЬрж╛ржЗ",
  "рждрзЛрж░ ржХржкрж╛рж▓рзЗ ржмрзЗржЧрзБржи ржнрж╛ржЬрж┐ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржжрж╛рзЬрж┐рждрзЗ ржЦрзИ ржнрж╛ржЬрж┐",
  "рждрзЛрж░ ржорзЛржмрж╛ржЗрж▓рзЗ ржЬрж╛ржорж╛ржЗ ржЖржжрж░ ржкрж╛ржарж╛ржЗ",
  "рждрзЛрж░ ржмрж┐ржЫрж╛ржирж╛рзЯ ржорж╛ржЫрзЗрж░ ржЖржБрж╢ ржлрж╛рж▓рж┐",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржЭрж╛рзЬрзБ ржорж╛рж░рж┐",
  "рждрзЛрж░ ржХрж▓рж┐ржЬрж╛рзЯ ржкрзЛржХрж╛ ржлрзЗрж▓рж┐",
  "рждрзЛрж░ ржЯрж┐рж╢рж╛рж░рзНржЯрзЗ ржЬрзЛржБржХ ржЖржБржХрж┐",
  "рждрзЛрж░ ржкрзНржпрж╛ржирзНржЯрзЗ ржмрзГрж╖рзНржЯрж┐ ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржкрж╛рзЯржЬрж╛ржорж╛рзЯ ржкрж┐ржБржкрзЬрж╛ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржмрж╛рж▓рж┐рж╢рзЗ рж╣рж╛ржБржЪрж┐ ржжрзЗржЗ",
  "рждрзЛрж░ ржкрж╛рзЯрзЗрж░ ржиржЦрзЗ ржкрзЗрж░рзЗржХ ржарзБржХрж┐",
  "рждрзЛрж░ ржкржХрзЗржЯрзЗ ржЯрж┐ржХржЯрж┐ржХрж┐ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЦрж╛ржЯрзЗ ржХрж╛ржБржарж╛рж▓ ржкрж╛рждрж╛ ржмрж┐ржЫрж╛ржЗ",
  "рждрзЛрж░ ржнрж╛рждрзЗрж░ ржкрж╛рждрзЗ ржШрж╛рж╕ ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржХржлрж┐ржирзЗ рж╣рж╛ржУрзЯрж╛ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ ржлрзНрж░рж┐ржЬрзЗ ржЗрж▓рж┐рж╢ ржирж╛ рж░рзЗржЦрзЗ ржЧрж╛рж▓рж┐ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржмржЙрзЯрзЗрж░ рж╕рж╛ржерзЗ PUBG ржЦрзЗрж▓рж┐",
  "рждрзЛрж░ ржнрж╛ржд ржХрж╛ржкрзЬрзЗ ржЫрж╛рждрж╛ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЧрж▓рж╛рзЯ ржЪрзЗржЗржи ржирж╛, ржЬрзБрждрж╛рж░ ржлрж┐рждрж╛ ржЭрзБрж▓рж╛ржЗ",
  "рждрзЛрж░ ржЪрзЗрж╣рж╛рж░рж╛рзЯ ржнрзВрждрзЗрж░ ржЫржмрж┐ ржЖржБржХрж┐",
  "рждрзЛрж░ ржлрзЛржирзЗ рж╕рж╛ржмрж╛ржи ржорж╛ржЦрж╛ржЗ",
  "рждрзЛрж░ ржХрзБржХрзБрж░рзЗрж░ рж╕рж╛ржерзЗ ржжрзМрзЬ ржжрзЗржЗ",
  "рждрзЛрж░ ржЪрж╛рзЯрзЗрж░ ржХрж╛ржк ржкрзБржБржЗрж╢рж╛ржХ ржжрж┐рзЯрзЗ ржзрзБржЗ",
  "рждрзЛрж░ ржарзЛржБржЯрзЗ ржорж╛ржХрж╛рж▓ ржлрж▓ ржорж╛рж░рж┐",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржХрж▓рж╛рж░ ржорзЛржЪрж╛ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржкрзЗржЯ ржарзЗрж▓рзЗ ржмрзЗрж▓рзБржи ржмрж╛ржирж╛ржЗ",
  "рждрзЛрж░ ржЬрзБрждрж╛ ржжрж┐рзЯрзЗ ржЧрж╛ржи ржЧрж╛ржЗ",
  "рждрзЛрж░ ржмрж╛ржкрж░рзЗ тАШржЖржирзНржЯрж┐тАЩ ржбрж╛ржХрж┐",
  "рждрзЛрж░ ржЧрж╛рж░рзНрж▓ржлрзНрж░рзЗржирзНржбрзЗрж░ ржирж╛ржо рж░рж╛ржЦрж┐ рж░рж┐ржХрзНрж╕рж╛",
  "рждрзЛрж░ рж╢рж╢рзБрж░рж░рзЗ ржжрзБрж▓рж╛ржнрж╛ржЗ ржмрж╛ржирж╛ржЗ",
  "рждрзЛрж░ ржирж╛ржорзЗрж░ ржмрж╛ржирж╛ржи ржЪрзЗржЮрзНржЬ ржХрж░рзЗ рж░рж╛ржЦрж┐ тАШрж▓рзЗржЯрзБтАЩ",
  "рждрзЛрж░ ржкрж╛рж╕ржкрзЛрж░рзНржЯрзЗ ржкрзЗржБржкрзЗ ржЖржБржХрж┐",
  "рждрзЛрж░ рж╕рж┐ржорзЗ рж▓рждрж╛ ржоржЩрзНржЧрзЗрж╢ржХрж╛рж░рзЗрж░ ржЧрж╛рж▓рж┐ ржмрж╕рж╛ржЗ",
  "рждрзЛрж░ ржШрзБржорзЗ ржЪрж╛ржоржЪ ржжрж┐рзЯрзЗ рж╣ржХрж┐ ржЦрзЗрж▓рж┐",
  "рждрзЛрж░ рж▓рзБржЩрзНржЧрж┐рждрзЗ ржкрзНржпрж╛рж░рж╛рж╕рзБржЯ ржЧрзБржБржЬрж┐",
  "рждрзЛрж░ ржлрзЗрж╕ржмрзБржХ рж╣рзНржпрж╛ржХ ржХрж░рзЗ ржЪрж╛ржЪрж╛ ржмрж╛ржирж╛ржЗ",
  "рждрзЛрж░ ржЬржирзНржоржжрж┐ржирзЗ ржХрзБржорж┐рж░ ржкрж╛ржарж╛ржЗ",
  "рждрзЛрж░ ржЗржиржмржХрзНрж╕рзЗ ржЧрж░рзБрж░ ржШржирзНржЯ ржкрж╛ржарж╛ржЗ",
  "рждрзЛрж░ рж╣рзЗржбржлрзЛржирзЗ ржЪрж┐ржкрж╕ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ рж╢рж╛рзЬрж┐рждрзЗ ржЧрж░рзБрж░ рж▓рзЗржЬ ржЖржЯрж╛ржЗ",
  "рждрзЛрж░ ржЯрж╛ржЗ ржжрж┐рзЯрзЗ ржорж╛ржЫ ржзрж░рждрзЗ ржпрж╛ржЗ",
  "рждрзЛрж░ WiFi ржжрж┐рзЯрзЗ ржкрзЗржБрзЯрж╛ржЬ ржнрж╛ржЬрж┐",
  "рждрзЛрж░ ржХрж╛ржиржирзЗ ржжрзБржзрзЗрж░ ржмржжрж▓рзЗ ржЭрж╛рж▓ ржжрзЗржЗ",
  "рждрзЛрж░ ржмржЗрзЯрзЗ ржЧрж░рзБрж░ ржЫржмрж┐ ржЖржБржХрж┐",
  "рждрзЛрж░ рж╕рзНржХрзБрж▓ ржмрзНржпрж╛ржЧрзЗ ржХрж╛ржБржарж╛рж▓ ржнрж░рж┐",
  "рждрзЛрж░ ржХрж▓ржорзЗ рж▓рзЗржЬрж╛рж░ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ ржЪрзЗрзЯрж╛рж░ ржорзЛржо ржжрж┐рзЯрзЗ ржкрж┐ржЪрзНржЫрж┐рж▓ ржХрж░рж┐",
  "рждрзЛрж░ ржлрзНрж░рзЗржирзНржбрж▓рж┐рж╕рзНржЯрзЗ ржмрж╛ржШ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ CPUрждрзЗ ржЖржоржЧрж╛ржЫ рж▓рж╛ржЧрж╛ржЗ",
  "рждрзЛрж░ ржерж╛рж▓рж╛рзЯ ржкрзЛржХрж╛ ржнрж╛ржд ржжрж┐ржЗ",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржбрж╛рзЯрж╛ржкрж╛рж░ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЧрж╛рзЬрж┐рждрзЗ ржорж╣рж┐рж╖ ржЪрж╛ржкрж╛ржЗ",
  "рждрзЛрж░ ржЖржЗржбрж┐рждрзЗ ржХрзБржХрзБрж░ ржЫржмрж┐ рж▓рж╛ржЧрж╛ржЗ",
  "рждрзЛрж░ ржЦрж┐ржЪрзБрзЬрж┐рждрзЗ ржЪрзБржирзНржирзА ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржкрж╛рзЯрзЗрж░ ржЧрзЛрзЬрж╛рж▓рж┐ ржжрж┐рзЯрзЗ ржмрж╛ржБрж╢рзА ржмрж╛ржЬрж╛ржЗ",
  "рждрзЛрж░ ржкрж▓рж┐ржерж┐ржирзЗ ржХрзЛрж░ржмрж╛ржирж┐рж░ ржЧрзЛрж╢ржд ржнрж░рж┐",
  "рждрзЛрж░ ржмрж╛рж╕рж╛рзЯ рждрзЗржБрждрзБрж▓ ржЧрж╛ржЫ рж▓рж╛ржЧрж╛ржЗ",
  "рждрзЛрж░ ржкржХрзЗржЯрзЗ ржХрж╛ржБржарж╛рж▓рзЗрж░ ржмрж┐ржЪрж┐ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЧрж▓рж╛рзЯ ржХрж▓рж╛ ржЧрж╛ржЫ ржкрзЗржБржЪрж╛ржЗ",
  "рждрзЛрж░ рж░рж╛ржЙржЯрж╛рж░ ржжрж┐рзЯрзЗ ржЬрзНржмрж╛рж▓рж╛ржирж┐ ржмрж╛ржирж╛ржЗ",
  "рждрзЛрж░ ржорж╛ржерж╛рзЯ ржЯржорзЗржЯрзЛ ржнрж░рзНрждрж╛ ржорж╛ржЦрж╛ржЗ",
  "рждрзЛрж░ ржЧрж░рзБрждрзЗ рж╢рж╛рзЬрж┐ ржкрж░рж╛ржЗ",
  "рждрзЛрж░ ржЦрж╛ржЯрзЗ ржорж╛ржЫ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЪрзЗрж╣рж╛рж░рж╛рзЯ ржорж░рж┐ржЪ ржЧрзБржБрзЬрж╛ ржЫрж┐ржЯрж╛ржЗ",
  "рждрзЛрж░ ржмрж╛рж▓рж┐рж╢рзЗ ржмрж░ржл рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржкрзНржпрж╛ржирзНржЯрзЗ рждрзЗрж▓рж╛ржкрзЛржХрж╛ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЧрж▓рж╛ ржжрж┐рзЯрзЗ ржнрзВрждрзЗрж░ рж╕рж┐ржирзЗржорж╛ ржЪрж╛рж▓рж╛ржЗ",
  "рждрзЛрж░ ржЬрж╛ржорж╛рзЯ ржкрж┐рзЯрж╛ржЬрзБ ржЭрзБрж▓рж╛ржЗ",
  "рждрзЛрж░ ржлрзЛржирзЗ ржкрж╛рждрж╛ ржХрж╛ржЯрж╛ рж╕рж╛ржЙржирзНржб ржжрж┐ржЗ",
  "рждрзЛрж░ ржЧрж╛рж▓рзЗ ржЧрж╛ржоржЫрж╛ ржжрж┐рзЯрзЗ ржЪрж╛ ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржЖржЗржбрж┐рждрзЗ рж░рж┐ржХрзНрж╕рж╛рж░ рж╣рж░рзНржи ржмрж╛ржЬрж╛ржЗ",
  "рждрзЛрж░ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржбрзЗ ржЧрж╛рж▓рж┐ рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЪрж╛ржоржЪрзЗ ржнрзВржд ржмрж╛ржирж╛ржЗ",
  "рждрзЛрж░ ржоржЧрзЗ ржШрзЛрзЬрж╛ ржжрзМрзЬрж╛ржЗ",
  "рждрзЛрж░ ржорж╛рзЯрзЗрж░рзЗ рж╕рзЗрж▓ржлрж┐рждрзЗ рждрзЗрж▓рж╛ржкрзЛржХрж╛ рж▓рж╛ржЧрж╛ржЗ",
  "рждрзЛрж░ ржирж╛ржо рж░рж╛ржЦрж┐ 'ржлржЪржХрж╛ржЗ'",
  "рждрзЛрж░ ржЪрзЛржЦрзЗ ржбрж┐рж╢ рж▓рж╛ржЗржирзЗрж░ рждрж╛рж░ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ ржШрж╛рзЬрзЗ ржХрж▓рж╛рж░ ржорзЛржЪрж╛ ржЭрзБрж▓рж╛ржЗ",
  "рждрзЛрж░ ржкрж╛рзЯрзЗрж░ ржЪржЯрж┐ ржжрж┐рзЯрзЗ ржЧрж╛ржи ржЧрж╛ржЗ",
  "рждрзЛрж░ ржХрж╛ржирзНржирж╛рзЯ ржЗрж▓рж┐рж╢ ржорж╛ржЫ рж▓рж╛ржлрж╛рзЯ",
  "рждрзЛрж░ ржорж╢рж╛рж░рж┐рждрзЗ ржнрзВржд рж░рж╛ржЦрж┐",
  "рждрзЛрж░ ржЬрж╛ржорж╛ржХрж╛ржкрзЬрзЗ ржХрж╛ржБржарж╛рж▓рзЗрж░ рж░рж╕ ржврж╛рж▓рж┐",
  "рждрзЛрж░ ржХрж╛ржирзЗрж░ рж▓рждрж┐рждрзЗ ржЪрж┐ржкрж╕ ржврзБржХрж╛ржЗ",
  "рждрзЛрж░ ржЖржЗржбрж┐рждрзЗ ржзрж╛ржи ржЧрж╛ржЫ рж▓рж╛ржЧрж╛ржЗ"
];

module.exports.run = async function({ api, event, args }) {
  const { threadID, messageID, senderID, mentions, body } = event;

  if (body && body.toLowerCase().includes("stop fungali")) {
    if (activeFungalis[threadID]) {
      clearInterval(activeFungalis[threadID]);
      delete activeFungalis[threadID];
      return api.sendMessage("ЁЯЫС ржЧрж╛рж▓рж┐ ржмржирзНржз ржХрж░рж╛ рж╣рж▓рзЛ!", threadID, messageID);
    } else {
      return api.sendMessage("тЪая╕П ржХрзЛржи ржЧрж╛рж▓рж┐ ржЪрж╛рж▓рж╛ржирзЛ рж╣рзЯ ржирж╛ржЗ!", threadID, messageID);
    }
  }

  if (!mentions || Object.keys(mentions).length === 0) {
    return api.sendMessage("тЪая╕П ржжрзЯрж╛ ржХрж░рзЗ ржХрж╛ржЙржХрзЗ @mention ржХрж░рзЛ!", threadID, messageID);
  }

  if (activeFungalis[threadID]) {
    return api.sendMessage("тП│ ржЖржЧрзЗрж░ ржЧрж╛рж▓рж┐ ржЪрж▓ржЫрзЗ, ржЖржЧрзЗ рж╕рзЗржЯрж╛ ржмржирзНржз ржХрж░рзЛ 'stop fungali' ржжрж┐рзЯрзЗ!", threadID, messageID);
  }

  const targetID = Object.keys(mentions)[0];
  const targetName = mentions[targetID];
  let index = 0;

  activeFungalis[threadID] = setInterval(() => {
    if (index >= fungaliList.length) {
      clearInterval(activeFungalis[threadID]);
      delete activeFungalis[threadID];
      return api.sendMessage(`ЁЯШИ ржЧрж╛рж▓рж┐ рж╢рзЗрж╖ рж╣рж▓рзЛ! ${targetName} ржнрж╛ржЗрзЯрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рж▓рзЛ!`, threadID);
    }

    api.sendMessage({
      body: `ЁЯШб @${targetName} ${fungaliList[index]}`,
      mentions: [{ tag: targetName, id: targetID }]
    }, threadID);

    index++;
  }, 300); // ржкрзНрж░рждрж┐ 0.3 рж╕рзЗржХрзЗржирзНржбрзЗ ржорзЗрж╕рзЗржЬ ржпрж╛ржмрзЗ
};
