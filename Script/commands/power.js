let running = {};

module.exports.config = {
  name: "power",
  version: "1.0.0",
  hasPermssion: 0,
  credits: "RiisHaD SoBuJ",
  description: "গালি স্প্যাম করার জন্য কমান্ড (stop power দিলে বন্ধ হবে)",
  usePrefix: false,
  commandCategory: "fun",
  usages: "@mention",
  cooldowns: 3
};

const galiList = [
  "তোগোরে ফাসিতে লটকাইয়া চুদমু",
  "তোগোর ধোন টাইনা তোগোর পিছন দিয়া ঢুকামু",
  "ইয়াহিয়া",
  "আইয়ুব খান",
  "মোহাম্মদ আলী জিন্নাহ",
  "জং ধরা লোহা দিয়া পাকিস্তানের মানচিত্র বানাই্য়া তোদের পিছন দিয়া ঢুকামু।",
  "তর মায়ের ভোদা শিরিষ কাগজ দিয়া ঘইষা দিমু।",
  "তর মায়ের ভোদা বোম্বাই মরিচ দিয়া চুদামু।",
  "তর হোগায় ইনপুট, তর মায়ের ভোদায় আউটপুট।",
  "তর বাপের পুটকির ফুটা দিয়া কাডল ঢুকামু।",
  "নিজামীর গোয়ার কৃমি।",
  "তর বাপের ধন দিয়া ডাংগুলি খেলুম।",
  "তর বাপের বিচি বেইচা কটকটি খামু।",
  "তর বৌয়ের ভোদায় মাগুর মাছ চাষ করুম।",
  "তর ধন দিয়া মাটি খুড়ুম।",
  "ফাটা কন্ডমের ফসল।",
  "লাত্থায় তর মার আনরেজিস্টার্ড শ্বশুরবাড়ী ফাকিস্তান পাঠায় দিমু।",
  "হাতির ল্যাওড়া দিয়া তর মায়েরে চুদুম।",
  "তর মায়ের ভোদা ছিল্লা লবণ লাগায় দিমু।",
  "তর বাপের হোগা দিয়া ট্রেন ভইরা দিমু।",
  "তরে গোআ দিয়া চুদামু",
  "এক কানে হোল ভইরা আরেক কান দিয়া বাইর করমু।",
  "তোর হোল ভাজি কইরা তোরেই খাওয়ামু",
  "কুত্তার পুকটি চাটামু",
  "মাসিকের ত্যানা।",
  "তোর নাকে হাইগ্যা দিমু।",
  "তোর বাপ গাইড়্যা।",
  "মোবাইল ভাইব্রেশন কইরা তুর পুকটিতে ভরবো।",
  "তোর বইয়ের মুসলমানি দিমু।",
  "তোর বাপে তোর নানা।",
  "তুই ফাটা ডিম।",
  "তুই ভোদার কেচ্ছা।",
  "তোর মার ভোদায় বৃষ্টির পানি।",
  "তোর মুখে মুত দিয়া চুল ধুইমু।",
  "তোর পাছায় ঘুঁষি মারুম।",
  "তোর কপালে গু খাইয়া লিখমু।",
  "তোর বাবার বিবি আমার মাল খায়।",
  "তুই গরুর ভুদা।",
  "তোর ঠোঁট ভোদা চাটে।",
  "তুই পাইলসের বাচ্চা।",
  "তুই হাইব্রিড ভোদা।",
  "তুই ভোদার স্পঞ্জ।",
  "তুই ডাবল হোলওয়ালা হিজড়া।",
  "তুই বিচির ব্যথা।",
  "তুই হোগার হালুয়া।",
  "তুই পুঁটির মাছের গু।",
  "তুই সিমেন্টের বাচ্চা।",
  "তুই পচা ভুদা।",
  "তোর মায়ের হোগায় ড্রিল চালাই।",
  "তোর মুখে ভোদার ছাই।",
  "তুই চোদনের ফল।",
  "তুই ফেমডমের সাবমিসিভ।",
  "তোর গায়ে পাখির গু মাখমু।",
  "তোর নাকের ফুটোতে ধোন ভরামু।",
  "তোর কানে মুত দিমু।",
  "তোর পাছায় পেট্রোল ভরামু।",
  "তোর মাথায় কন্ডম ফাটাইয়া বাজামু।",
  "তুই লাত্থায় জন্মানো বাচ্চা।",
  "তোর জন্ম হইছিলো পলিথিনে।",
  "তুই বস্তির ভোদা।",
  "তুই চুলার ছাই।",
  "তোর ভোদায় প্লাস্টিক।",
  "তুই বাঁশ খাওয়া গাধা।",
  "তোর ঠোঁটে বিচির ঘাম।",
  "তুই খাঁচার গু।",
  "তুই ডাস্টবিনের হাগু।",
  "তুই চিপা হিজড়া।",
  "তোর গায়ে ভোদার গন্ধ।",
  "তুই মুখ ধুইসস গু দিয়া।",
  "তুই মারবেল দিয়ে চোদা খাস।",
  "তোরে ঠেলতাই চুদুম।",
  "তোর মায়েরে বেলচা দিয়া চুদুম।",
  "তুই ডাবল এক্স এল হিজড়া।",
  "তুই ফাটা কমোড।",
  "তুই ছেঁড়া কনডম।",
  "তুই ভোদার চিপস।",
  "তুই গু খাওয়া টিয়া।",
  "তুই পাখির বিচি।",
  "তোর পাছা বোমা ফাটার জায়গা।",
  "তুই হাগু বাল।",
  "তুই কলার খোসা।",
  "তোরে রামছাগলে চুদুক।",
  "তোরে ঢেঁকিতে চুদামু।",
  "তুই নারিকেলের মাল।",
  "তুই মুতের রসগোল্লা।",
  "তুই মুখে বিচির জুস খাস।",
  "তুই হগা মুখো।",
  "তুই পুটকির পাইপ।",
  "তুই গুদমারা ছাগল।",
  "তুই ঝিমাইয়া চোদা খাস।",
  "তুই হিজড়ার পোলাপান।",
  "তোর মার পাছায় বালু ভরামু।",
  "তোর মুখে বসে হাগুমু।",
  "তুই তেঁতুল ভোদা।",
  "তুই সেপটিক ট্যাঙ্ক।"
];

module.exports.run = async ({ api, event, args }) => {
  const { threadID, messageID, senderID, mentions, body } = event;

  if (body && body.toLowerCase().includes("stop power")) {
    running[threadID] = false;
    return api.sendMessage("⛔ Power গালি বন্ধ করা হয়েছে!", threadID, messageID);
  }

  if (!mentions || Object.keys(mentions).length === 0)
    return api.sendMessage("⚠️ কারো নাম ট্যাগ দাও!", threadID, messageID);

  const target = Object.keys(mentions)[0];
  running[threadID] = true;

  for (let i = 0; i < 100 && running[threadID]; i++) {
    const gali = galiList[Math.floor(Math.random() * galiList.length)];
    await new Promise(r => setTimeout(r, 500));
    api.sendMessage({ body: `@${mentions[target].replace('@', '')} ${gali}`, mentions: [{ tag: mentions[target], id: target }] }, threadID);
  }

  delete running[threadID];
};

