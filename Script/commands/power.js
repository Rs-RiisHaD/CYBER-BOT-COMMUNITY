let running = {};

module.exports.config = {
  name: "mojadar",
  version: "1.0.0",
  hasPermssion: 0,
  credits: "RiisHaD SoBuJ",
  description: "মেনশন করা ইউজারকে মজাদার গালি স্প্যাম (stop mojadar দিলে বন্ধ হবে)",
  usePrefix: false,
  commandCategory: "fun",
  usages: "@mention",
  cooldowns: 3
};

const mojadarGali = [
  "তোর মুখে জুতা মারি",
  "তোর মাথায় ইট ভাঙি",
  "তোর কানের ভেতরে ভূত ডুকাই",
  "তোর ঘাড়ে সিমেন্ট ঢালি",
  "তোর পেটে লাথি মারি",
  "তোর গালে গরুর গোবর মাখাই",
  "তোর পিছনে তেল মাখাই",
  "তোর সামনে পান্তাভাত ফেলি",
  "তোর মাথায় ছাতা গুঁজে দিই",
  "তোর পায়খানায় টিকটিকি ঢুকাই",
  "তোর দাঁতে পাঁঠার হাড্ডি দিই",
  "তোর নাকে করলা গুঁজে দিই",
  "তোর ঠ্যাংয়ে কাঁঠাল গাছ লাগাই",
  "তোর হাত গরুর লেজ দিয়ে বাঁধি",
  "তোর ঘুমে ঢোল বাজাই",
  "তোর কপালে বেগুন ভাজি রাখি",
  "তোর দাড়িতে খৈ ভাজি",
  "তোর মোবাইলে জামাই আদর পাঠাই",
  "তোর বিছানায় মাছের আঁশ ফালি",
  "তোর মাথায় ঝাড়ু মারি",
  "তোর কলিজায় পোকা ফেলি",
  "তোর টিশার্টে জোঁক আঁকি",
  "তোর প্যান্টে বৃষ্টি ঢালি",
  "তোর পায়জামায় পিঁপড়া রাখি",
  "তোর বালিশে হাঁচি দেই",
  "তোর পায়ের নখে পেরেক ঠুকি",
  "তোর পকেটে টিকটিকি রাখি",
  "তোর খাটে কাঁঠাল পাতা বিছাই",
  "তোর ভাতের পাতে ঘাস ঢালি",
  "তোর কফিনে হাওয়া ঢুকাই",
  "তোর ফ্রিজে ইলিশ না রেখে গালি রাখি",
  "তোর বউয়ের সাথে PUBG খেলি",
  "তোর ভাত কাপড়ে ছাতা রাখি",
  "তোর গলায় চেইন না, জুতার ফিতা ঝুলাই",
  "তোর চেহারায় ভূতের ছবি আঁকি",
  "তোর ফোনে সাবান মাখাই",
  "তোর কুকুরের সাথে দৌড় দেই",
  "তোর চায়ের কাপ পুঁইশাক দিয়ে ধুই",
  "তোর ঠোঁটে মাকাল ফল মারি",
  "তোর মাথায় কলার মোচা রাখি",
  "তোর পেট ঠেলে বেলুন বানাই",
  "তোর জুতা দিয়ে গান গাই",
  "তোর বাপরে ‘আন্টি’ ডাকি",
  "তোর গার্লফ্রেন্ডের নাম রাখি রিক্সা",
  "তোর শশুররে দুলাভাই বানাই",
  "তোর নামের বানান চেঞ্জ করে রাখি ‘লেটু’",
  "তোর পাসপোর্টে পেঁপে আঁকি",
  "তোর সিমে লতা মঙ্গেশকারের গালি বসাই",
  "তোর ঘুমে চামচ দিয়ে হকি খেলি",
  "তোর লুঙ্গিতে প্যারাসুট গুঁজি",
  "তোর ফেসবুক হ্যাক করে চাচা বানাই",
  "তোর জন্মদিনে কুমির পাঠাই",
  "তোর ইনবক্সে গরুর ঘন্ট পাঠাই",
  "তোর হেডফোনে চিপস ঢুকাই",
  "তোর শাড়িতে গরুর লেজ আটাই",
  "তোর টাই দিয়ে মাছ ধরতে যাই",
  "তোর WiFi দিয়ে পেঁয়াজ ভাজি",
  "তোর কাননে দুধের বদলে ঝাল দেই",
  "তোর বইয়ে গরুর ছবি আঁকি",
  "তোর স্কুল ব্যাগে কাঁঠাল ভরি",
  "তোর কলমে লেজার ঢুকাই",
  "তোর চেয়ার মোম দিয়ে পিচ্ছিল করি",
  "তোর ফ্রেন্ডলিস্টে বাঘ রাখি",
  "তোর CPUতে আমগাছ লাগাই",
  "তোর থালায় পোকা ভাত দিই",
  "তোর মাথায় ডায়াপার রাখি",
  "তোর গাড়িতে মহিষ চাপাই",
  "তোর আইডিতে কুকুর ছবি লাগাই",
  "তোর খিচুড়িতে চুন্নী ঢালি",
  "তোর পায়ের গোড়ালি দিয়ে বাঁশী বাজাই",
  "তোর পলিথিনে কোরবানির গোশত ভরি",
  "তোর বাসায় তেঁতুল গাছ লাগাই",
  "তোর পকেটে কাঁঠালের বিচি রাখি",
  "তোর গলায় কলা গাছ পেঁচাই",
  "তোর রাউটার দিয়ে জ্বালানি বানাই",
  "তোর মাথায় টমেটো ভর্তা মাখাই",
  "তোর গরুতে শাড়ি পরাই",
  "তোর খাটে মাছ রাখি",
  "তোর চেহারায় মরিচ গুঁড়া ছিটাই",
  "তোর বালিশে বরফ রাখি",
  "তোর প্যান্টে তেলাপোকা রাখি",
  "তোর গলা দিয়ে ভূতের সিনেমা চালাই",
  "তোর জামায় পিয়াজু ঝুলাই",
  "তোর ফোনে পাতা কাটা সাউন্ড দিই",
  "তোর গালে গামছা দিয়ে চা ঢালি",
  "তোর আইডিতে রিক্সার হর্ন বাজাই",
  "তোর পাসওয়ার্ডে গালি রাখি",
  "তোর চামচে ভূত বানাই",
  "তোর মগে ঘোড়া দৌড়াই",
  "তোর মায়েরে সেলফিতে তেলাপোকা লাগাই",
  "তোর নাম রাখি 'ফচকাই'",
  "তোর চোখে ডিশ লাইনের তার ঢুকাই",
  "তোর ঘাড়ে কলার মোচা ঝুলাই",
  "তোর পায়ের চটি দিয়ে গান গাই",
  "তোর কান্নায় ইলিশ মাছ লাফায়",
  "তোর মশারিতে ভূত রাখি",
  "তোর জামাকাপড়ে কাঁঠালের রস ঢালি",
  "তোর কানের লতিতে চিপস ঢুকাই",
  "তোর আইডিতে ধান গাছ লাগাই"
];

module.exports.run = async ({ api, event, args }) => {
  const { threadID, messageID, senderID, mentions, body } = event;

  if (body && body.toLowerCase().includes("stop mojadar")) {
    running[threadID] = false;
    return api.sendMessage("⛔ Mojadar গালি বন্ধ করা হয়েছে!", threadID, messageID);
  }

  if (!mentions || Object.keys(mentions).length === 0)
    return api.sendMessage("⚠️ কারো নাম ট্যাগ দাও!", threadID, messageID);

  const target = Object.keys(mentions)[0];
  running[threadID] = true;

  for (let i = 0; i < 100 && running[threadID]; i++) {
    const gali = mojadarGali[Math.floor(Math.random() * mojadarGali.length)];
    await new Promise(r => setTimeout(r, 300));
    api.sendMessage({ body: `@${mentions[target].replace('@', '')} ${gali}`, mentions: [{ tag: mentions[target], id: target }] }, threadID);
  }

  delete running[threadID];
};
